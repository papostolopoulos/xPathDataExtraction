{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "a0654c06-a290-40f3-b030-849adac4b48b",
        "repeating": true,
        "locations": [
          "/descendant::text()[contains(translate(.,\"OFF\", \"off\"), \"off\") and\n(contains(.,\"$\") or contains(.,\"%\"))]\n[not(contains(.,\"UPC\"))]\n[following::img[contains(translate(@alt, \"OFERIMAG\", \"oferimag\"), \"offer image\")]]\n|\n/descendant::text()[contains(translate(.,\"FREGIT\",\"fregit\"),\"free gift\")][following::img[contains(translate(@alt, \"MAINGE\", \"mainge\"), \"main image\")]]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data){\n    return data.replace(/(needs\\!)(Cards)/,\"$1 $2\").replace(/\\s*\\*/g,\"\\,\");\n  }\n  else\n  {\n    return null;\n  }\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(., \"~~~\", /descendant::span/parent::td[contains(.,\"through\")])"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(!data) return null;\n  \n  var splitData = data.split(\"~~~\");\n  return /(January|February|March|April|May|June|July|August|September|October|November|December)\\s*\\d{1,2},?\\s*\\d{4}/.test(splitData[0]) ?\n    splitData[0].match(/(January|February|March|April|May|June|July|August|September|October|November|December)\\s*\\d{1,2},?\\s*\\d{4}/)[0] : \n  splitData[1].match(/(\\d{1,2}\\/){2}\\d{4}/);\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "//descendant::span/parent::td[contains(.,\"through\")]",
          "_footer": "/descendant::text()[contains(.,\"LLC\")]/ancestor::table[1]"
        }
      },
      {
        "id": "6ca5e5b0-6a18-4f9f-a16f-e7b67ed158b7",
        "repeating": true,
        "locations": [
          "/descendant::text()[contains(translate(.,\"OFF\", \"off\"), \"off\") and\n(contains(.,\"$\") or contains(.,\"%\"))]\n[not(contains(.,\"UPC\"))]\n[following::img[contains(translate(@alt, \"OFERIMAG\", \"oferimag\"), \"offer image\")]]\n|\n/descendant::text()[contains(translate(.,\"FREGIT\",\"fregit\"),\"free gift\")][following::img[contains(translate(@alt, \"MAINGE\", \"mainge\"), \"main image\")]]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Hallmark\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "a0654c06-a290-40f3-b030-849adac4b48b",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "6ca5e5b0-6a18-4f9f-a16f-e7b67ed158b7",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

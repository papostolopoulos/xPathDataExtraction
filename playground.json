{
  "metaData": {
    "decodeHtmlEntity": "true",
    "debug": "true",
    "enableCouponFilter": "50",
    "linkAlgoHandler": "LinkExtractor15"
  },
  "extract": {
    "edgeRules": [],
    "schema": [
      {
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        },
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json"
      }
    ],
    "entityRules": [
      {
        "entityIdRef": "",
        "repeating": true,
        "attributes": [],
        "locations": [
          "/"
        ],
        "id": "f66018c8-423b-459b-b55a-c639d92daf68",
        "type": "http://schema.org/Coupon",
        "javascript": null
      }
    ],
    "source": null,
    "entityNS": null,
    "extractEmbedded": false
  },
  "extractLn": {
    "edgeRules": [
      {
        "predicate": "http://schema.org/broker",
        "from": {
          "entityRule": "b4917ca5-ee83-4569-87c7-37feef5474af",
          "matchAttr": null
        },
        "to": {
          "entityRule": "b4917ca5-ee83-4569-87c7-37feef5474au",
          "matchAttr": null
        },
        "cardinality": "ONE_TO_ONE"
      },
      {
        "predicate": "http://schema.org/image",
        "from": {
          "entityRule": "b4917ca5-ee83-4569-87c7-37feef5474af",
          "matchAttr": null
        },
        "to": {
          "entityRule": "b4917ca5-ee83-4569-87c7-37feef5474aj",
          "matchAttr": null
        },
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityRules": [
      {
        "bundleInfo": {
          "minBundleSize": "-1",
          "maxBundleSize": "-1",
          "minLeafNodesSize": "-1",
          "maxLeafNodesSize": "-1",
          "maxDepth": "-1",
          "defaultPatternAnnotationThreshold": "0.8",
          "linkThreshold": "2",
          "footerPercentage": "0.8",
          "dedupCondition": {
            "matchThreshold": "",
            "stopWords": []
          },
          "overRideValidThroughFromFooter": "false",
          "listOfValidNodeTypes": [],
          "linkMatcher": [
            {
              "regex": ".*"
            }
          ]
        },
        "attributes": [
          {
            "dataTypes": [
              "Text"
            ],
            "minLength": "4",
            "blackList": [
              {
                "value": "(?i)offer valid for a limited time only[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)offer valid online[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)over\\\\s[0-9,]+\\\\sbought",
                "type": "REGEX"
              },
              {
                "value": "(?i)over\\\\s[0-9,]+\\\\sbought[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)[0-9,]+\\\\sratings[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)view deal[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)shop now[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)click here[!.]?",
                "type": "REGEX"
              },
              {
                "value": "(?i)learn more[!.]?",
                "type": "REGEX"
              }
            ],
            "name": "http://schema.org/description",
            "location": [
              {
                "xpath": ""
              }
            ],
            "whiteList": [
              {
                "value": "%",
                "type": "SUBSTRING"
              },
              {
                "value": "$",
                "type": "SUBSTRING"
              },
              {
                "value": "(?i)offer valid",
                "type": "REGEX"
              },
              {
                "value": "(?i)save",
                "type": "REGEX"
              },
              {
                "value": "(?i)sale",
                "type": "REGEX"
              },
              {
                "value": "(?i)online code",
                "type": "REGEX"
              }
            ],
            "concat": "true",
            "listOfValidNodeTypes": [
              {
                "name": "TEXT",
                "type": "node"
              },
              {
                "name": "ALT",
                "type": "attr"
              },
              {
                "name": "HREF",
                "type": "attr"
              }
            ],
            "mandatory": "true",
            "javascript": null,
            "maxLength": "400"
          },
          {
            "dataTypes": [
              "DateTime"
            ],
            "minLength": -1,
            "blackList": [
              {
                "type": "REGEX",
                "value": "(?i)valid through"
              },
              {
                "type": "REGEX",
                "value": "(?i)sale ends"
              },
              {
                "type": "REGEX",
                "value": "(?i)end"
              }
            ],
            "name": "http://schema.org/validThrough",
            "location": null,
            "whiteList": [],
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": "function transform(data) {if (data) {var monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];var regex = /(\\\\s*\\\\d+)\\\\/(\\\\s*\\\\d+)/i;var match = regex.exec(data);if (match && match[1]) {return monthNames[match[1] - 1] + ', ' + match[2];}else{return data;}}return null;}",
            "maxLength": -1
          },
          {
            "dataTypes": [
              "DateTime"
            ],
            "minLength": -1,
            "blackList": [
              {
                "type": "REGEX",
                "value": "(?i)valid through"
              },
              {
                "type": "REGEX",
                "value": "(?i)sale ends"
              },
              {
                "type": "REGEX",
                "value": "(?i)end"
              }
            ],
            "name": "http://schema.org/validFrom",
            "location": null,
            "whiteList": [],
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": "function transform(data) {if (data) {var monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];var regex = /(\\\\s*\\\\d+)\\\\/(\\\\s*\\\\d+)/i;var match = regex.exec(data);if (match && match[1]) {return monthNames[match[1] - 1] + ', ' + match[2];}else{return data;}}return null;}",
            "maxLength": -1
          },
          {
            "dataTypes": [
              "Number"
            ],
            "minLength": -1,
            "blackList": [],
            "name": "http://schema.org/offerPrice",
            "location": null,
            "whiteList": [
              {
                "type": "REGEX",
                "value": "(?i)free shipping"
              }
            ],
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": null,
            "maxLength": -1
          },
          {
            "dataTypes": [
              "Number"
            ],
            "minLength": -1,
            "blackList": [],
            "name": "http://schema.org/originalPrice",
            "location": null,
            "whiteList": [
              {
                "type": "REGEX",
                "value": "(?i)free shipping"
              }
            ],
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": null,
            "maxLength": -1
          },
          {
            "dataTypes": [
              "Text"
            ],
            "minLength": -1,
            "blackList": null,
            "name": "http://schema.org/priceCurrency",
            "location": null,
            "whiteList": null,
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": "function transform(data){content=data.trim();if(content&&content.startsWith('C$')){return'CAD'}else if(content&&content.startsWith('$')){return'USD'}else{return null}};",
            "maxLength": -1
          },
          {
            "dataTypes": [
              "Text"
            ],
            "minLength": -1,
            "blackList": null,
            "name": "http://schema.org/url",
            "location": null,
            "whiteList": null,
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": "",
            "maxLength": -1
          }
        ],
        "id": "b4917ca5-ee83-4569-87c7-37feef5474af",
        "type": "http://schema.org/Coupon",
        "javascript": null
      },
      {
        "bundleInfo": {
          "maxDepth": -1,
          "clusterAlgo": {
            "regex": "",
            "endIdx": -1,
            "startIdx": 0,
            "type": "SUBSTRING",
            "replaceInfo": [
              {
                "replaceAll": "true",
                "replacement": "",
                "regexStr": ""
              }
            ]
          },
          "maxBundleSize": -1,
          "minBundleSize": -1,
          "defaultPatternAnnotationThreshold": 0.8,
          "maxLeafNodesSize": -1,
          "minLeafNodesSize": -1,
          "listOfValidNodeTypes": null,
          "linkMatcher": null,
          "linkThreshold": 2
        },
        "attributes": [
          {
            "dataTypes": [
              "Text"
            ],
            "name": "http://schema.org/name",
            "location": [
              {
                "xpath": "news.rivers.com.au"
              }
            ],
            "mandatory": "true",
            "javascript": null
          }
        ],
        "id": "b4917ca5-ee83-4569-87c7-37feef5474au",
        "type": "http://schema.org/Organization",
        "javascript": null
      },
      {
        "bundleInfo": {
          "maxDepth": -1,
          "clusterAlgo": {
            "regex": "",
            "endIdx": -1,
            "startIdx": 0,
            "type": "SUBSTRING",
            "replaceInfo": [
              {
                "replaceAll": "true",
                "replacement": "",
                "regexStr": ""
              }
            ]
          },
          "maxBundleSize": -1,
          "minBundleSize": -1,
          "defaultPatternAnnotationThreshold": 0.8,
          "maxLeafNodesSize": -1,
          "minLeafNodesSize": -1,
          "listOfValidNodeTypes": null,
          "linkMatcher": null,
          "linkThreshold": 2
        },
        "attributes": [
          {
            "dataTypes": [
              "Text"
            ],
            "minLength": -1,
            "blackList": null,
            "name": "http://schema.org/url",
            "location": null,
            "whiteList": null,
            "listOfValidNodeTypes": null,
            "mandatory": "true",
            "javascript": null,
            "maxLength": -1
          }
        ],
        "id": "b4917ca5-ee83-4569-87c7-37feef5474aj",
        "type": "http://schema.org/ImageObject",
        "javascript": null
      }
    ]
  }
}
